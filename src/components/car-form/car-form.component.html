
<div class="container mx-auto px-4 sm:px-6 lg:px-8 py-12">
  <h1 class="text-3xl font-bold text-gray-800 mb-8">
    {{ isEditMode ? 'Edit Car' : 'Add New Car' }}
  </h1>

  <div class="bg-white rounded-xl shadow-lg p-6 md:p-8">
    <form [formGroup]="carForm" (ngSubmit)="onSubmit()">
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        
        <!-- Name -->
        <div>
          <label for="name" class="block text-sm font-medium text-gray-700">Model Name</label>
          <input type="text" id="name" formControlName="name" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-500 focus:ring-yellow-500 sm:text-sm">
        </div>
        
        <!-- Price -->
        <div>
          <label for="price" class="block text-sm font-medium text-gray-700">Selling Price (RM)</label>
          <input type="number" id="price" formControlName="price" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-500 focus:ring-yellow-500 sm:text-sm">
        </div>

        <!-- Year -->
        <div>
          <label for="year" class="block text-sm font-medium text-gray-700">Production Year</label>
          <input type="number" id="year" formControlName="year" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-500 focus:ring-yellow-500 sm:text-sm">
        </div>

        <!-- Registration No. -->
        <div>
          <label for="registrationNo" class="block text-sm font-medium text-gray-700">Registration No.</label>
          <input type="text" id="registrationNo" formControlName="registrationNo" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-500 focus:ring-yellow-500 sm:text-sm" [class.bg-gray-100]="isEditMode">
          @if(carForm.controls.registrationNo.errors?.['notUnique']) {
             <p class="text-sm text-red-600 mt-1">This registration number already exists.</p>
          }
        </div>

        <!-- Location -->
        <div>
          <label for="location" class="block text-sm font-medium text-gray-700">Location</label>
          <input type="text" id="location" formControlName="location" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-500 focus:ring-yellow-500 sm:text-sm">
        </div>
        
        <!-- Status -->
        <div>
          <label for="status" class="block text-sm font-medium text-gray-700">Status</label>
          <select id="status" formControlName="status" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-500 focus:ring-yellow-500 sm:text-sm">
            <option>Available</option>
            <option>Booked</option>
            <option>Sold</option>
          </select>
        </div>

        <!-- Monthly Installment -->
        <div>
          <label for="monthlyInstallment" class="block text-sm font-medium text-gray-700">Monthly Installment (RM)</label>
          <input type="number" id="monthlyInstallment" formControlName="monthlyInstallment" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-500 focus:ring-yellow-500 sm:text-sm">
        </div>

        <!-- Colour -->
        <div>
          <label for="color" class="block text-sm font-medium text-gray-700">Colour</label>
          <input type="text" id="color" formControlName="color" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-500 focus:ring-yellow-500 sm:text-sm">
        </div>

        <!-- Transmission -->
        <div>
          <label for="transmission" class="block text-sm font-medium text-gray-700">Transmission</label>
          <select id="transmission" formControlName="transmission" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-500 focus:ring-yellow-500 sm:text-sm">
            <option>Automatic</option>
            <option>Manual</option>
          </select>
        </div>

        <!-- Mileage -->
        <div>
          <label for="mileage" class="block text-sm font-medium text-gray-700">Mileage (km)</label>
          <input type="number" id="mileage" formControlName="mileage" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-500 focus:ring-yellow-500 sm:text-sm">
        </div>

        <!-- Booking Fee -->
        <div>
          <label for="bookingFee" class="block text-sm font-medium text-gray-700">Booking Fee (RM)</label>
          <input type="number" id="bookingFee" formControlName="bookingFee" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-500 focus:ring-yellow-500 sm:text-sm">
        </div>

        <!-- Remarks -->
        <div class="md:col-span-2 lg:col-span-1">
          <label for="remarks" class="block text-sm font-medium text-gray-700">Remarks</label>
          <input type="text" id="remarks" formControlName="remarks" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-500 focus:ring-yellow-500 sm:text-sm">
        </div>
        
        <!-- Image URLs -->
        <div class="md:col-span-2 lg:col-span-3">
          <label for="imageUrls" class="block text-sm font-medium text-gray-700">Image URLs (comma-separated)</label>
          <textarea id="imageUrls" formControlName="imageUrls" rows="3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-500 focus:ring-yellow-500 sm:text-sm"></textarea>
        </div>

      </div>
      
      <!-- Actions -->
      <div class="mt-8 flex justify-end gap-4">
        <button type="button" (click)="cancel()" class="bg-gray-200 text-gray-800 font-bold py-2 px-6 rounded-lg hover:bg-gray-300 transition-colors duration-300">
          Cancel
        </button>
        <button type="submit" [disabled]="carForm.invalid" class="bg-yellow-500 text-black font-bold py-2 px-6 rounded-lg hover:bg-yellow-600 transition-colors duration-300 disabled:bg-gray-300 disabled:cursor-not-allowed">
          {{ isEditMode ? 'Save Changes' : 'Create Car' }}
        </button>
      </div>

    </form>
  </div>
</div>
